{% extends "base.html" %}
{% block content %}
    <h2>Users Profiles</h2>
      <p>{{ status }}</p>
    <table class="table content-table">
        
        <thead>
            <th>ID</th>
            <th>Name</th>
            <th>Last Name</th>
            <th>Username</th>
            <th>User Rol Id</th>
            <th>Edit</th>
            <th>Delete</th>
        </thead>
        <tbody>
        {% for user in users %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.last_name }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.user_rol_id }}</td>
            <td><button onclick="window.location.href=`/user-management/edit-user/{{ user.id }}`"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button></td>
            <td><button onclick='deleteConfirm( {{user.id}}, "User" )'><i class="fa fa-trash-o" aria-hidden="true"></i></button></td>
        </tr>    
        {% endfor %}
        </tbody>
    </table>
    <button type="submit" onclick="showForm()" class="btn btn-success btn-lg mb-1">New User</button>

    <section id="create-form" class="h-100" hidden="true">

        <h3>Create New User</h3>

        <form method="POST" id="create-new-user" action="/user-management/create">

          <label>Name</label>
          <input class="form-control" type="text" name="name" placeholder="Name" required/>                    
          <label>Last Name</label>
          <input class="form-control" type="text" name="last_name" placeholder="Last Name" required/>
          <label>Username</label>
          <input class="form-control" type="text" name="username" placeholder="Username"  required/>
          <label>Email address</label>
          <input class="form-control" type="email" name="email" placeholder="email@example.com"  required/>
          <label>Password</label>
          <input id="new-user-pass" class="form-control" type="password" name="password" placeholder="Password" />
          <div class="form-group form-check">
              <input type="checkbox" class="form-check-input" id="exampleCheck1" onclick="unmaskPassword('new-user-pass')">
              <label class="form-check-label" for="exampleCheck1">Unmask password</label>
          </div>
          <label>Phone Number</label>
          <input class="form-control" type="text" name="phone" placeholder="Phone Number"  required/>
          <label>Date of Birth</label>
          <input class="form-control" type="date" name="date_of_birth"  required/>
          <label>Address</label>
          <textarea class="form-control" name="address" placeholder="Type your address here..." ></textarea>

            <select class="form-select" name="gender" form="create-new-user">
                <option value="" disabled>Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>

            <select class="form-select" name="user_rol" form="create-new-user">
                <option disabled>User Rol</option>
                {% for rol in rols %}
                <option value="{{ rol.description }}">{{ rol.description }}</option>
                {% endfor %}
            </select>


        <button type="submit" class="btn btn-success btn-lg mb-1">Create</button>
        <a class="abord" onclick="hiddeForm()">Cancel</a>

        </form>
</section>

{% endblock %}